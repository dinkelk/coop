<!DOCTYPE html>
<html>
<head>
    <title>Dinky Coop</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.3.1/socket.io.js"></script>
    <script>
        var socket = io();

        socket.on('data', function(data) {
            console.log('Received data:', data);
            document.getElementById('temp').textContent = data.temp;
            document.getElementById('hum').textContent = data.hum;
            document.getElementById('cpu_temp').textContent = data.cpu_temp;
            document.getElementById('state').textContent = data.state;
            document.getElementById('override').textContent = data.override;
            document.getElementById('uptime').textContent = data.uptime;
            document.getElementById('sunrise').textContent = data.sunrise;
            document.getElementById('sunset').textContent = data.sunset;
            document.getElementById('tu_sunrise').textContent = data.tu_sunrise;
            document.getElementById('tu_sunset').textContent = data.tu_sunset;
        });

        function sendOpenCommand() {
            socket.emit('open');
        }

        function sendCloseCommand() {
            socket.emit('close');
        }

        function sendStopCommand() {
            socket.emit('stop');
        }
    </script>
</head>
<body>
    <h1>Dinky Coop</h1>
    <h2>System Uptime: <span id="uptime"></span></h2>
    <h2>Today's Sunrise: <span id="sunrise"></span></h2>
    <h2>Time Until Sunrise: <span id="tu_sunrise"></span></h2>
    <h2>Today's Sunset: <span id="sunset"></span></h2>
    <h2>Time Until Sunset: <span id="tu_sunset"></span></h2>
    <h2>CPU Temperature: <span id="cpu_temp"></span></h2>
    <h2>Temperature: <span id="temp"></span></h2>
    <h2>Humidity: <span id="hum"></span></h2>
    <h2>Door State: <span id="state"></span></h2>
    <h2>Switch State: <span id="override"></span></h2>
    <button onclick="sendOpenCommand()">Open</button>
    <button onclick="sendCloseCommand()">Close</button>
    <button onclick="sendStopCommand()">Stop</button>
</body>
</html>
